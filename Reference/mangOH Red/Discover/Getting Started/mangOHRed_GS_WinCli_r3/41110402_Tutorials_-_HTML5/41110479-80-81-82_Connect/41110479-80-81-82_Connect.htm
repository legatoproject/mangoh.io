<!DOCTYPE HTML>
<html>
<head>

 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
 <title>41110479-80-81-82 Connect</title>

 <meta name="generator" content="Adobe FrameMaker 2015" />
 <meta name="Originator" content="ImportMif" />
 <meta name="OriginalFile" content="N:\JaggedPeak\Current Projects\SWI\CTO\41110402 mangOH Red Fundamentals v2 (Linux and Windows CLI)\41110479-80-81-82 Connect.fm" />
 <link rel="stylesheet" href="41110479-80-81-82_Connect.css" type="text/css" />


<script type="text/javascript" language="JavaScript">
//<![CDATA[
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
	origWidth = innerWidth;
	origHeight = innerHeight;
	onresize = reDo;
}
onerror = null; 
//]]>
</script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }
p.WebHelpNavBar { text-align:right; }
-->
</style>

<script type="text/javascript" src="../../template/scripts/rh.min.js"></script>
<script type="text/javascript" src="../../template/scripts/common.min.js"></script>
<script type="text/javascript" src="../../template/scripts/topic.min.js"></script>
<script type="text/javascript" src="../../template/scripts/constants.js"></script>
<script type="text/javascript" src="../../template/scripts/utils.js"></script>
<script type="text/javascript" src="../../template/scripts/mhutils.js"></script>
<script type="text/javascript" src="../../template/scripts/mhlang.js"></script>
<script type="text/javascript" src="../../template/scripts/mhver.js"></script>
<script type="text/javascript" src="../../template/scripts/settings.js"></script>
<script type="text/javascript" src="../../template/scripts/XmlJsReader.js"></script>
<script type="text/javascript" src="../../template/scripts/loadparentdata.js"></script>
<script type="text/javascript" src="../../template/scripts/loadscreen.js"></script>
<script type="text/javascript" src="../../template/scripts/loadprojdata.js"></script>
<script type="text/javascript" src="../../template/scripts/mhtopic.js"></script>
 <link rel="stylesheet" type="text/css" href="../../template/styles/topic.min.css">
<script type="text/javascript" >
gRootRelPath = "../..";
gCommonRootRelPath = "../..";
gTopicId = "5";
</script>
 <meta name="brsprev" value="41110402_Tutorials_-_HTML5/41110479-80-81-82_PrepMangoh/41110479-80-81-82_PrepMangoh.htm">
 <meta name="brsnext" value="41110402_Tutorials_-_HTML5/41110479-80-81-82_AirVan/41110479-80-81-82_AirVan.htm">
</head>

<body dir="ltr">
<script type="text/javascript" src="../../ehlpdhtm.js"></script>

 <div dir="ltr">
  
  <p dir="ltr" class="FM_ChapterTitle">6: <a name="XREF_84678_Hello_World"></a>Connect To Mobile Networks</p>
  <p dir="ltr" class="FM_Body">In this chapter, you will learn how to connect the mangOH&nbsp;Red to a mobile network. When the mangOH_Red has a data connection, you can transmit data, including on-board sensor readings, to the IoT cloud.</p>
  <h1 dir="ltr"><a name="TOC_6_1_Connect_To_a_Mobile"></a>6.1 Connect To a Mobile Network</h1>
  <p dir="ltr" class="FM_Body">To connect to a mobile network, you must have an activated micro-SIM in the mangOH&nbsp;Red.</p>

  <p dir="ltr" class="FM_FigureWide"><span style="color   : #333a3f; "></span>&#160;</p>

  <div align="left"><img alt="41110479-80-81-82_Connect00027.jpg" style=" width:100%; margin-top:10pt; margin-bottom:20pt; max-width:396.720pt;" id="image0" src="../../assets/41110479-80-81-82_Connect00027.jpg" />
  </div>
  <p dir="ltr" class="FM_Numbered"><span class="FM_Number">1.<span style="padding-left: 10pt;" class="FMAutoNumber_1"></span></span>If you do not have a micro-SIM in the mangOH&nbsp;Red, insert one before continuing:</p>
  <p dir="ltr" class="FM_Numbered2"><span class="FM_Number">a.<span style="padding-left: 10pt;" class="FMAutoNumber_1"></span></span><a name="XREF_13365_a_Disconnect_the"></a>Disconnect the power from the mangOH&nbsp;Red (remove the jumper from the power header, or unplug the micro-USB cable that is providing power).</p>
  <p dir="ltr" class="FM_Numbered2"><span class="FM_Number">b.<span style="padding-left: 10pt;" class="FMAutoNumber_1"></span></span>Insert a micro-SIM in the slot on the bottom side of the <uservariable x-value="mangOH&nbsp;Red" x-showvalue="TRUE" name="Product_Tag_1" x-format="Product_Tag_1">mangOH&nbsp;Red</uservariable>. You can use the Sierra Wireless micro-SIM that is included in the kit, or another micro-SIM that has been activated by a mobile network provider.</p>
  <p dir="ltr" class="FM_Numbered2"><span class="FM_Number">c.<span style="padding-left: 10pt;" class="FMAutoNumber_1"></span></span>Reconnect the power (plug in the micro-USB cable or insert the jumper on the power header on the same pins it was removed from in <a href="#XREF_13365_a_Disconnect_the"><span class="FM_blue_color">step a</span></a>. The Power LED will light immediately.</p>
<div width="100%" align="left">
  <table border-spacing="0" dir="ltr" border-collapse="collapse" style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:4.00pt; float:alignleft; width:100%; max-width:453.61pt;">
   <tr style=" height : 31.00pt;">
   <td style="width : 20.241pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
   <p dir="ltr" class="FM_CellBody">&nbsp;</p>
</td>
   <td style="width : 433.368pt; border-top-style: solid; border-top-width: 2px; border-top-color: #6a8e9a; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #6a8e9a; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
   <p dir="ltr" class="FM_RegularNote"><span class="FM_Bold">Note:<span style="font-size: small;">&nbsp;&nbsp;&nbsp;</span></span>You must disconnect the power before switching SIMs so the mangOH_Red can detect the SIM while powering on.</p>
</td>
</tr>
  </table>
</div>
  <p dir="ltr" class="FM_Numbered"><span class="FM_Number">2.<span style="padding-left: 10pt;" class="FMAutoNumber_1"></span></span>Connect to the target:</p>

  <p dir="ltr" class="FM_Numbered2"><span class="FM_Number">a.<span style="padding-left: 10pt;" class="FMAutoNumber_1"></span></span>On the dev machine, open a terminal window.</p>

  <p dir="ltr" class="FM_Numbered2"><span class="FM_Number">b.<span style="padding-left: 10pt;" class="FMAutoNumber_1"></span></span>Connect to the target:</p>

  <p dir="ltr" class="FM_Indented2_CodeFragment"><span class="FM_Code_Background_Color">$ ssh root@192.168.2.2</span><span style="font-size: x-small;">&nbsp;</span></p>

  <p dir="ltr" class="FM_Spacer">&nbsp;</p>
  <p dir="ltr" class="FM_Numbered"><span class="FM_Number">3.<span style="padding-left: 10pt;" class="FMAutoNumber_1"></span></span><a name="XREF_76708_2_Start_a_data"></a>Display the status of the target’s radio:</p>
  <p dir="ltr" class="FM_Indented_CodeFragment"><span class="FM_Code_Background_Color"># cm radio</span><span style="font-size: x-small;">&nbsp;</span></p>

  <div align="left"><img alt="cm_radio_is_off.png" style=" width:100%; margin-top:10pt; margin-bottom:20pt; max-width:378.666pt;" id="image1" src="../../assets/cm_radio_is_off.png" />
  </div>
  <p dir="ltr" class="FM_Figure">&nbsp;</p>

  <div align="left"><img alt="cm_radio_searching.png" style=" width:100%; margin-top:10pt; margin-bottom:20pt; max-width:378.666pt;" id="image2" src="../../assets/cm_radio_searching.png" />
  </div>
  <p dir="ltr" class="FM_Figure">&nbsp;</p>

<div width="100%" align="left">
  <table border-spacing="0" dir="ltr" border-collapse="collapse" style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:4.00pt; float:alignleft; width:100%; max-width:451.36pt;">
   <tr style=" height : 31.00pt;">
   <td style="width : 17.991pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
   <p dir="ltr" class="FM_CellBody">&nbsp;</p>
</td>
   <td style="width : 433.368pt; border-top-style: solid; border-top-width: 2px; border-top-color: #6a8e9a; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #6a8e9a; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
   <p dir="ltr" class="FM_ImportantNote"><span class="FM_Bold_Red_Important">Important:<span style="font-size: small;">&nbsp;&nbsp;&nbsp;</span></span>Typically, your module will register on a network in &lt;&nbsp;1&nbsp;minute. However, the very first time your CF3 module and Sierra SIM are used, registration may take from 5–20&nbsp;minutes.</p>
</td>
</tr>
  </table>
</div>
  <div align="left"><img alt="cm_radio_is_on.png" style=" width:100%; margin-top:10pt; margin-bottom:20pt; max-width:378.666pt;" id="image3" src="../../assets/cm_radio_is_on.png" />
  </div>
  <p dir="ltr" class="FM_Figure">&nbsp;</p>
  <p dir="ltr" class="FM_Numbered"><span class="FM_Number">4.<span style="padding-left: 10pt;" class="FMAutoNumber_1"></span></span>If the:</p>
  <p dir="ltr" class="FM_Bulleted2"><span class="FM_Number">·<span style="padding-left: 15pt;" class="FMAutoNumber_1"></span></span>Power is OFF<span style="font-size: x-small;">&nbsp;</span>—<span style="font-size: x-small;">&nbsp;</span>Turn on the radio and then repeat <a href="#XREF_76708_2_Start_a_data"><span class="FM_blue_color">Step 3</span></a>:</p>
  <p dir="ltr" class="FM_Indented2_CodeFragment"><span class="FM_Code_Background_Color"># cm radio on</span><span style="font-size: x-small;">&nbsp;</span></p>
  <p dir="ltr" class="FM_Bulleted2"><span class="FM_Number">·<span style="padding-left: 15pt;" class="FMAutoNumber_1"></span></span>Power is ON and Status is &quot;... searching ...&quot;’<span style="font-size: x-small;">&nbsp;</span>—<span style="font-size: x-small;">&nbsp;</span>Wait 10–15 seconds while the radio searches for a network to register on, then repeat <a href="#XREF_76708_2_Start_a_data"><span class="FM_blue_color">Step 3</span></a>.</p>
  <p dir="ltr" class="FM_Bulleted2"><span class="FM_Number">·<span style="padding-left: 15pt;" class="FMAutoNumber_1"></span></span>Power is ON and Status is Registered<span style="font-size: x-small;">&nbsp;</span>—<span style="font-size: x-small;">&nbsp;</span>Continue to <a href="#XREF_13742_6_Set_the_target"><span class="FM_blue_color">Step 6</span></a>.</p>
  <p dir="ltr" class="FM_Numbered"><span class="FM_Number">5.<span style="padding-left: 10pt;" class="FMAutoNumber_1"></span></span><a name="XREF_76427_6_Check_the"></a>Make sure the SIM card is installed correctly:</p>
  <p dir="ltr" class="FM_Indented_CodeFragment"><span class="FM_Code_Background_Color"># cm sim info</span><span style="font-size: x-small;">&nbsp;</span></p>

  <p dir="ltr" class="FM_Figure"><span style="font-family : Helvetica; "></span>&#160;</p>

  <div align="left"><img alt="cm_sim_info.png" style=" width:100%; margin-top:10pt; margin-bottom:20pt; max-width:323.250pt;" id="image4" src="../../assets/cm_sim_info.png" />
  </div>
  <p dir="ltr" class="FM_Indented">Your SIM data should appear as shown above.</p>
<div width="100%" align="left">
  <table border-spacing="0" dir="ltr" border-collapse="collapse" style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:4.00pt; float:alignleft; width:100%; max-width:451.36pt;">
   <tr style=" height : 55.00pt;">
   <td style="width : 17.991pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
   <p dir="ltr" class="FM_CellBody">&nbsp;</p>
</td>
   <td style="width : 433.368pt; border-top-style: solid; border-top-width: 2px; border-top-color: #6a8e9a; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #6a8e9a; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
   <p dir="ltr" class="FM_RegularNote"><span class="FM_Bold">Note:<span style="font-size: small;">&nbsp;&nbsp;&nbsp;</span></span>The Home Network Operator is the ISP that provides the network on which the target is connected. This may be different than the provider of the SIM if you are connecting to a network that your SIM’s provider has an agreement with. For example, Sierra Wireless SIMs will connect to a variety of networks as in the example above.</p>
</td>
</tr>
  </table>
</div>
  <p dir="ltr" class="FM_Numbered"><span class="FM_Number">6.<span style="padding-left: 10pt;" class="FMAutoNumber_1"></span></span><a name="XREF_13742_6_Set_the_target"></a>Set the target to use IPv4 addressing (this is required for use with AirVantage later in the guide):</p>
  <p dir="ltr" class="FM_Indented_CodeFragment"><span class="FM_Code_Background_Color"># cm data pdp ipv4</span><span style="font-size: x-small;">&nbsp;</span></p>
  <p dir="ltr" class="FM_Numbered"><span class="FM_Number">7.<span style="padding-left: 10pt;" class="FMAutoNumber_1"></span></span>Check the connection status:</p>
  <p dir="ltr" class="FM_Indented_CodeFragment"><span class="FM_Code_Background_Color"># cm data</span><span style="font-size: x-small;">&nbsp;</span></p>

  <div align="left"><img alt="cm_data_not_connected.png" style=" width:100%; margin-top:10pt; margin-bottom:20pt; max-width:378.666pt;" id="image5" src="../../assets/cm_data_not_connected.png" />
  </div>
  <p dir="ltr" class="FM_Figure">&nbsp;</p>

  <div align="left"><img alt="cm_data_unconnected.png" style=" width:100%; margin-top:10pt; margin-bottom:20pt; max-width:378.666pt;" id="image6" src="../../assets/cm_data_unconnected.png" />
  </div>
  <p dir="ltr" class="FM_Figure">&nbsp;</p>
  <p dir="ltr" class="FM_Numbered2"><span class="FM_Number">a.<span style="padding-left: 10pt;" class="FMAutoNumber_1"></span></span>If &quot;Connected&quot; is:</p>
  <p dir="ltr" class="FM_Bulleted3"><span class="FM_Number">·<span style="padding-left: 15pt;" class="FMAutoNumber_1"></span></span>&quot;no&quot;, and APN has a value<span style="font-size: x-small;">&nbsp;</span>—<span style="font-size: x-small;">&nbsp;</span>The mangOH&nbsp;Red is ready to connect to the network. Go to <a href="#XREF_81433_9_The_target_is"><span class="FM_blue_color">Step 8</span></a>.</p>
  <p dir="ltr" class="FM_Bulleted3"><span class="FM_Number">·<span style="padding-left: 15pt;" class="FMAutoNumber_1"></span></span>&quot;no&quot;, and APN is blank<span style="font-size: x-small;">&nbsp;</span>—<span style="font-size: x-small;">&nbsp;</span>You must set the APN. Continue to the next step (<a href="#XREF_80080_b_If_you_need_to"><span class="FM_blue_color">step b</span></a>).</p>
  <p dir="ltr" class="FM_Numbered2"><span class="FM_Number">b.<span style="padding-left: 10pt;" class="FMAutoNumber_1"></span></span><a name="XREF_80080_b_If_you_need_to"></a>If you need to set the APN for:</p>
  <p dir="ltr" class="FM_Bulleted3"><span class="FM_Number">·<span style="padding-left: 15pt;" class="FMAutoNumber_1"></span></span>A Sierra Wireless SIM<span style="font-size: x-small;">&nbsp;</span>—<span style="font-size: x-small;">&nbsp;</span>Enter the following command:</p>
  <p dir="ltr" class="FM_Indented3_CodeFragment"><span class="FM_Code_Background_Color"># cm data apn internet.sierrawireless.com</span><span style="font-size: x-small;">&nbsp;</span></p>
<div width="100%" align="left">
  <table border-spacing="0" dir="ltr" border-collapse="collapse" style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:4.00pt; float:alignleft; width:100%; max-width:504.61pt;">
   <tr style=" height : 22.00pt;">
   <td style="width : 53.991pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
   <p dir="ltr" class="FM_CellBody">&nbsp;</p>
</td>
   <td style="width : 450.618pt; border-top-style: solid; border-top-width: 2px; border-top-color: #6a8e9a; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #6a8e9a; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
   <p dir="ltr" class="FM_RegularNote"><span class="FM_Bold">Note:<span style="font-size: small;">&nbsp;&nbsp;&nbsp;</span></span>The APN for the Sierra Wireless SIM is internet.sierrawireless.com.</p>
</td>
</tr>
  </table>
</div>
  <p dir="ltr" class="FM_Bulleted3"><span class="FM_Number">·<span style="padding-left: 15pt;" class="FMAutoNumber_1"></span></span>Other SIM:</p>
  <p dir="ltr" class="FM_Numbered4"><span class="FM_Number"> &#160;&#160;i.</span>, Replace &quot;&lt;your apn&gt;&quot; with the actual APN in the following command:</p>
  <p dir="ltr" class="FM_Indented4_CodeFragment"><span class="FM_Code_Background_Color"># cm data apn &lt;your_apn&gt;</span><span style="font-size: x-small;">&nbsp;</span></p>

  <div align="left"><img alt="cm_data_apn_new.png" style=" width:100%; margin-top:10pt; margin-bottom:20pt; max-width:378.000pt;" id="image7" src="../../assets/cm_data_apn_new.png" />
  </div>
  <p dir="ltr" class="FM_Figure">&nbsp;</p>
<div width="100%" align="left">
  <table border-spacing="0" dir="ltr" border-collapse="collapse" style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:4.00pt; float:alignleft; width:100%; max-width:504.61pt;">
   <tr style=" height : 43.00pt;">
   <td style="width : 37.491pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
   <p dir="ltr" class="FM_CellBody">&nbsp;</p>
</td>
   <td style="width : 467.118pt; border-top-style: solid; border-top-width: 2px; border-top-color: #6a8e9a; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #6a8e9a; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
   <p dir="ltr" class="FM_RegularNote"><span class="FM_Bold">Note:<span style="font-size: small;">&nbsp;&nbsp;&nbsp;</span></span>If your mobile network operator uses different APNs for 3G and LTE, make sure to use the APN for the correct network based on your CF3 module type. For example, the WP8548 is a 3G-only module that does not support LTE<span style="font-size: x-small;">&nbsp;</span>—<span style="font-size: x-small;">&nbsp;</span>the APN for the network operator’s 3G network should be used.</p>
</td>
</tr>
  </table>
</div>
  <p dir="ltr" class="FM_Indented3">If you do not know the APN for your SIM:</p>
  <p dir="ltr" class="FM_Numbered4_Restart"><span class="FM_Number"> &#160;&#160;i.<span style="padding-left: 5pt;" class="FMAutoNumber_1"></span></span>Search the Internet for the APN for your Home Network Operator that you showed in <a href="#XREF_76427_6_Check_the"><span class="FM_blue_color">Step 5</span></a>&#160;(for example, search for &quot;Rogers&nbsp;Wireless&quot;).</p>
  <p dir="ltr" class="FM_Numbered4"><span class="FM_Number"> &#160;&#160;ii.</span>Set the APN as described above.</p>
  <p dir="ltr" class="FM_Numbered2"><span class="FM_Number">c.<span style="padding-left: 10pt;" class="FMAutoNumber_1"></span></span>Check the connection status again to make sure you set the APN correctly:</p>
  <p dir="ltr" class="FM_Indented2_CodeFragment"><span class="FM_Code_Background_Color"># cm data</span><span style="font-size: x-small;">&nbsp;</span></p>

  <p dir="ltr" class="FM_Figure">&#160;</p>

  <div align="left"><img alt="cm_data_apn.png" style=" width:100%; margin-top:10pt; margin-bottom:20pt; max-width:378.012pt;" id="image8" src="../../assets/cm_data_apn.png" />
  </div>
  <p dir="ltr" class="FM_Numbered"><span class="FM_Number">8.<span style="padding-left: 10pt;" class="FMAutoNumber_1"></span></span><a name="XREF_81433_9_The_target_is"></a>The target is registered on a mobile network, and the SIM is installed and configured with the correct APN. You are now ready to transmit data to the IoT cloud.</p>
  <p dir="ltr" class="FM_Body"><img alt="happy_mangoh_canstockphoto11432497_3.jpg" style=" width:100%; margin-top:10pt; margin-bottom:20pt; max-width:44.496pt;" align="left" id="image9" src="../../assets/happy_mangoh_canstockphoto11432497_3.jpg" />In the next section<span style="font-size: x-small;">&nbsp;</span>—<span style="font-size: x-small;">&nbsp;</span><a href="../41110479-80-81-82_AirVan/41110479-80-81-82_AirVan.htm#XREF_84678_Hello_World"><span class="FM_blue_color">Connect to the IoT Cloud</span></a>, you will set up your free account on the Sierra Wireless AirVantage IoT Acceleration Platform and begin sending data to the ’cloud’.</p>
 </div>
</body>

</html>

