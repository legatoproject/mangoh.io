<!DOCTYPE HTML>
<html>
<head>

 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
 <title>41110479-80-81-82 Connect</title>

 <meta name="generator" content="Adobe FrameMaker 2015" />
 <meta name="Originator" content="ImportMif" />
 <meta name="OriginalFile" content="N:\JaggedPeak\Current Projects\SWI\CTO\41110402 mangOH Red Fundamentals v2 (Linux and Windows CLI)\41110479-80-81-82 Connect.fm" />
 <link rel="stylesheet" href="41110479-80-81-82_Connect.css" type="text/css" />


<script type="text/javascript" language="JavaScript">
//<![CDATA[
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
	origWidth = innerWidth;
	origHeight = innerHeight;
	onresize = reDo;
}
onerror = null; 
//]]>
</script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }
p.WebHelpNavBar { text-align:right; }
-->
</style>

<script type="text/javascript" src="../../template/scripts/rh.min.js"></script>
<script type="text/javascript" src="../../template/scripts/common.min.js"></script>
<script type="text/javascript" src="../../template/scripts/topic.min.js"></script>
<script type="text/javascript" src="../../template/scripts/constants.js"></script>
<script type="text/javascript" src="../../template/scripts/utils.js"></script>
<script type="text/javascript" src="../../template/scripts/mhutils.js"></script>
<script type="text/javascript" src="../../template/scripts/mhlang.js"></script>
<script type="text/javascript" src="../../template/scripts/mhver.js"></script>
<script type="text/javascript" src="../../template/scripts/settings.js"></script>
<script type="text/javascript" src="../../template/scripts/XmlJsReader.js"></script>
<script type="text/javascript" src="../../template/scripts/loadparentdata.js"></script>
<script type="text/javascript" src="../../template/scripts/loadscreen.js"></script>
<script type="text/javascript" src="../../template/scripts/loadprojdata.js"></script>
<script type="text/javascript" src="../../template/scripts/mhtopic.js"></script>
 <link rel="stylesheet" type="text/css" href="../../template/styles/topic.min.css">
<script type="text/javascript" >
gRootRelPath = "../..";
gCommonRootRelPath = "../..";
gTopicId = "5";
</script>
 <meta name="brsprev" value="41110402_Tutorials_-_HTML5/41110479-80-81-82_PrepMangoh/41110479-80-81-82_PrepMangoh.htm">
 <meta name="brsnext" value="41110402_Tutorials_-_HTML5/41110479-80-81-82_AirVan/41110479-80-81-82_AirVan.htm">
</head>

<body dir="ltr">
<script type="text/javascript" src="../../ehlpdhtm.js"></script>

 <div dir="ltr">
  
  <p dir="ltr" class="FM_ChapterTitle">6: <a name="XREF_84678_Hello_World"></a>Connect To Mobile Networks</p>
  <p dir="ltr" class="FM_Body">In this chapter, you will learn how to connect the mangOH&nbsp;Red to a mobile network. When the mangOH_Red has a data connection, you can transmit data, including on-board sensor readings, to the IoT cloud.</p>
  <h1 dir="ltr"><a name="TOC_6_1_Connect_To_a_Mobile"></a>6.1 Connect To a Mobile Network</h1>
  <p dir="ltr" class="FM_Body">To connect to a mobile network, you must have an activated micro-SIM in the mangOH&nbsp;Red.</p>

  <p dir="ltr" class="FM_FigureWide"><span style="color   : #333a3f; "></span>&#160;</p>

  <div align="left"><img alt="41110479-80-81-82_Connect00025.jpg" style=" width:100%; margin-top:10pt; max-width:396.720pt;" id="image0" src="../../assets/41110479-80-81-82_Connect00025.jpg" />
  </div>
  <p dir="ltr" class="FM_Numbered"><span class="FM_Number">1.<span style="padding-left: 10pt;" class="FMAutoNumber_1"></span></span>If you do not have a micro-SIM in the mangOH&nbsp;Red, insert one before continuing:</p>
  <p dir="ltr" class="FM_Numbered2"><span class="FM_Number">a.<span style="padding-left: 10pt;" class="FMAutoNumber_1"></span></span><a name="XREF_13365_a_Disconnect_the"></a>Disconnect the power from the mangOH&nbsp;Red (remove the jumper from the power header, or unplug the micro-USB cable that is providing power).</p>
  <p dir="ltr" class="FM_Numbered2"><span class="FM_Number">b.<span style="padding-left: 10pt;" class="FMAutoNumber_1"></span></span>Insert a micro-SIM in the slot on the bottom side of the <uservariable x-value="mangOH&nbsp;Red" x-showvalue="TRUE" name="Product_Tag_1" x-format="Product_Tag_1">mangOH&nbsp;Red</uservariable>. You can use the Sierra Wireless micro-SIM that is included in the kit, or another micro-SIM that has been activated by a mobile network provider.</p>
  <p dir="ltr" class="FM_Numbered2"><span class="FM_Number">c.<span style="padding-left: 10pt;" class="FMAutoNumber_1"></span></span>Reconnect the power (plug in the micro-USB cable or insert the jumper on the power header on the same pins it was removed from in <a href="#XREF_13365_a_Disconnect_the"><span class="FM_blue_color">step a</span></a>. The Power LED will light immediately.</p>
  <p dir="ltr" class="FM_NoteIndented1Body"><span class="FM_Note">Note:<span style="font-size: small;">&nbsp;&nbsp;&nbsp;</span></span>You must disconnect the power before switching SIMs so the mangOH_Red can detect the SIM while powering on.</p>
  <p dir="ltr" class="FM_Numbered"><span class="FM_Number">2.<span style="padding-left: 10pt;" class="FMAutoNumber_1"></span></span>Connect to the target’s console:</p>

  <p dir="ltr" class="FM_Numbered2"><span class="FM_Number">a.<span style="padding-left: 10pt;" class="FMAutoNumber_1"></span></span>On the dev machine, open a terminal window.</p>

  <p dir="ltr" class="FM_Numbered2"><span class="FM_Number">b.<span style="padding-left: 10pt;" class="FMAutoNumber_1"></span></span>Connect to the target:</p>

  <p dir="ltr" class="FM_Indented2_CodeFragment"><span class="FM_Code_Background_Color">$ ssh root@192.168.2.2</span><span style="font-size: x-small;">&nbsp;</span></p>

  <p dir="ltr" class="FM_Numbered"><span class="FM_Number">3.<span style="padding-left: 10pt;" class="FMAutoNumber_1"></span></span>Turn on the target’s radio (modem);</p>
  <p dir="ltr" class="FM_Indented_CodeFragment"><span class="FM_Code_Background_Color"># cm radio on</span><span style="font-size: x-small;">&nbsp;</span></p>
  <p dir="ltr" class="FM_Numbered"><span class="FM_Number">4.<span style="padding-left: 10pt;" class="FMAutoNumber_1"></span></span><a name="XREF_76708_2_Start_a_data"></a>Display the status of the target’s radio:</p>
  <p dir="ltr" class="FM_Indented_CodeFragment"><span class="FM_Code_Background_Color"># cm radio</span><span style="font-size: x-small;">&nbsp;</span></p>

  <div align="left"><img alt="cm_radio_is_off.png" style=" width:100%; margin-top:10pt; max-width:378.666pt;" id="image1" src="../../assets/cm_radio_is_off.png" />
  </div>
  <p dir="ltr" class="FM_Figure">&nbsp;</p>

  <div align="left"><img alt="cm_radio_searching.png" style=" width:100%; margin-top:10pt; max-width:378.666pt;" id="image2" src="../../assets/cm_radio_searching.png" />
  </div>
  <p dir="ltr" class="FM_Figure">&nbsp;</p>

  <div align="left"><img alt="cm_radio_is_on.png" style=" width:100%; margin-top:10pt; max-width:378.666pt;" id="image3" src="../../assets/cm_radio_is_on.png" />
  </div>
  <p dir="ltr" class="FM_Figure">&nbsp;</p>
  <p dir="ltr" class="FM_Numbered"><span class="FM_Number">5.<span style="padding-left: 10pt;" class="FMAutoNumber_1"></span></span>If the:</p>
  <p dir="ltr" class="FM_Bulleted2"><span class="FM_Number">·<span style="padding-left: 15pt;" class="FMAutoNumber_1"></span></span>Power is OFF<span style="font-size: x-small;">&nbsp;</span>—<span style="font-size: x-small;">&nbsp;</span>Turn on the radio and then repeat <a href="#XREF_76708_2_Start_a_data"><span class="FM_blue_color">Step 4</span></a>:</p>
  <p dir="ltr" class="FM_Indented2_CodeFragment"><span class="FM_Code_Background_Color"># cm radio on</span><span style="font-size: x-small;">&nbsp;</span></p>
  <p dir="ltr" class="FM_Bulleted2"><span class="FM_Number">·<span style="padding-left: 15pt;" class="FMAutoNumber_1"></span></span>Power is ON and Status is ’searching’<span style="font-size: x-small;">&nbsp;</span>—<span style="font-size: x-small;">&nbsp;</span>Wait 10–15 seconds while the radio searches for a network to register on, then repeat <a href="#XREF_76708_2_Start_a_data"><span class="FM_blue_color">Step 4</span></a>.</p>
  <p dir="ltr" class="FM_Bulleted2"><span class="FM_Number">·<span style="padding-left: 15pt;" class="FMAutoNumber_1"></span></span>Power is ON and Status is Registered<span style="font-size: x-small;">&nbsp;</span>—<span style="font-size: x-small;">&nbsp;</span>Continue to <a href="#XREF_76427_6_Check_the"><span class="FM_blue_color">Step 6</span></a>.</p>
  <p dir="ltr" class="FM_Numbered"><span class="FM_Number">6.<span style="padding-left: 10pt;" class="FMAutoNumber_1"></span></span><a name="XREF_76427_6_Check_the"></a>Check the connection status:</p>
  <p dir="ltr" class="FM_Indented_CodeFragment"><span class="FM_Code_Background_Color"># cm data</span><span style="font-size: x-small;">&nbsp;</span></p>

  <div align="left"><img alt="cm_data_not_connected.png" style=" width:100%; margin-top:10pt; max-width:378.666pt;" id="image4" src="../../assets/cm_data_not_connected.png" />
  </div>
  <p dir="ltr" class="FM_Figure">&nbsp;</p>

  <div align="left"><img alt="cm_data_unconnected.png" style=" width:100%; margin-top:10pt; max-width:378.666pt;" id="image5" src="../../assets/cm_data_unconnected.png" />
  </div>
  <p dir="ltr" class="FM_Figure">&nbsp;</p>

  <div align="left"><img alt="vb_cm_data_connected.png" style=" width:100%; margin-top:10pt; max-width:378.666pt;" id="image6" src="../../assets/vb_cm_data_connected.png" />
  </div>
  <p dir="ltr" class="FM_Figure">&nbsp;</p>
  <p dir="ltr" class="FM_Numbered2"><span class="FM_Number">a.<span style="padding-left: 10pt;" class="FMAutoNumber_1"></span></span>If &quot;Connected&quot; is:</p>
  <p dir="ltr" class="FM_Bulleted3"><span class="FM_Number">·<span style="padding-left: 15pt;" class="FMAutoNumber_1"></span></span>&quot;no&quot;, and APN has a value<span style="font-size: x-small;">&nbsp;</span>—<span style="font-size: x-small;">&nbsp;</span>The mangOH&nbsp;Red is ready to connect to the network. Go to <a href="#XREF_60151_5_xxxxxxxThe"><span class="FM_blue_color">Step 7</span></a>.</p>
  <p dir="ltr" class="FM_Bulleted3"><span class="FM_Number">·<span style="padding-left: 15pt;" class="FMAutoNumber_1"></span></span>&quot;no&quot;, and APN is blank<span style="font-size: x-small;">&nbsp;</span>—<span style="font-size: x-small;">&nbsp;</span>You must set the APN. Continue to the next step (<a href="#XREF_80080_b_If_you_need_to"><span class="FM_blue_color">step b</span></a>).</p>
  <p dir="ltr" class="FM_Bulleted3"><span class="FM_Number">·<span style="padding-left: 15pt;" class="FMAutoNumber_1"></span></span>&quot;yes&quot;<span style="font-size: x-small;">&nbsp;</span>—<span style="font-size: x-small;">&nbsp;</span>The mangOH&nbsp;Red is connected to the network. Go to <a href="#XREF_81883_8_Test_the_data"><span class="FM_blue_color">Step 8</span></a>.</p>
  <p dir="ltr" class="FM_Numbered2"><span class="FM_Number">b.<span style="padding-left: 10pt;" class="FMAutoNumber_1"></span></span><a name="XREF_80080_b_If_you_need_to"></a>If you need to set the APN, replace &quot;&lt;your apn&gt;&quot; with the actual APN in the following command:</p>
  <p dir="ltr" class="FM_Indented2_CodeFragment"><span class="FM_Code_Background_Color"># cm data apn &lt;your_apn&gt;</span><span style="font-size: x-small;">&nbsp;</span></p>

  <div align="left"><img alt="cm_data_apn_new.png" style=" width:100%; margin-top:10pt; max-width:378.000pt;" id="image7" src="../../assets/cm_data_apn_new.png" />
  </div>
  <p dir="ltr" class="FM_Figure">&nbsp;</p>
  <p dir="ltr" class="FM_NoteIndented2Body"><span class="FM_Note">Note:<span style="font-size: small;">&nbsp;&nbsp;&nbsp;</span></span>The APN for the Sierra Wireless SIM is internet.sierrawireless.com.</p>
  <p dir="ltr" class="FM_NoteIndented2Body"><span class="FM_Note">Note:<span style="font-size: small;">&nbsp;&nbsp;&nbsp;</span></span>If your mobile network operator uses different APNs for 3G and LTE, make sure to use the APN for the correct network based on your CF3 module type. For example, the WP8548 is a 3G-only module that does not support LTE<span style="font-size: x-small;">&nbsp;</span>—<span style="font-size: x-small;">&nbsp;</span>the APN for the network operator’s 3G network should be used.</p>
  <p dir="ltr" class="FM_Indented2">If you do not know the APN for your SIM:</p>
  <p dir="ltr" class="FM_Numbered3"><span class="FM_Number"> i.<span style="padding-left: 10pt;" class="FMAutoNumber_1"></span></span>Get your Home Network Operator name:</p>
  <p dir="ltr" class="FM_Indented3_CodeFragment"><span class="FM_Code_Background_Color"># cm sim info</span><span style="font-size: x-small;">&nbsp;</span></p>

  <p dir="ltr" class="FM_Figure">&#160;</p>

  <div align="left"><img alt="cm_sim_info.png" style=" width:100%; margin-top:10pt; max-width:378.000pt;" id="image8" src="../../assets/cm_sim_info.png" />
  </div>
  <p dir="ltr" class="FM_Numbered3"><span class="FM_Number"> ii.<span style="padding-left: 8pt;" class="FMAutoNumber_1"></span></span>Search the Internet for the APN for your Home Network Operator (for example, search for &quot;I TIM APN&quot;).</p>
  <p dir="ltr" class="FM_Numbered3"><span class="FM_Number"> iii.<span style="padding-left: 6pt;" class="FMAutoNumber_1"></span></span>Set the APN as described above.</p>
  <p dir="ltr" class="FM_Numbered2"><span class="FM_Number">c.<span style="padding-left: 10pt;" class="FMAutoNumber_1"></span></span>Check the connection status again to make sure you set the APN correctly:</p>
  <p dir="ltr" class="FM_Indented2_CodeFragment"><span class="FM_Code_Background_Color"># cm data</span><span style="font-size: x-small;">&nbsp;</span></p>

  <p dir="ltr" class="FM_Figure">&#160;</p>

  <div align="left"><img alt="cm_data_apn.png" style=" width:100%; margin-top:10pt; max-width:378.012pt;" id="image9" src="../../assets/cm_data_apn.png" />
  </div>
  <p dir="ltr" class="FM_Numbered"><span class="FM_Number">7.<span style="padding-left: 10pt;" class="FMAutoNumber_1"></span></span><a name="XREF_60151_5_xxxxxxxThe"></a>Set up a data connection to the mobile network:</p>
  <p dir="ltr" class="FM_Indented_CodeFragment"><span class="FM_Code_Background_Color"># cm data connect</span><span style="font-size: x-small;">&nbsp;</span></p>

  <div align="left"><img alt="cm_data_connect_new.png" style=" width:100%; margin-top:10pt; max-width:361.470pt;" id="image10" src="../../assets/cm_data_connect_new.png" />
  </div>
  <p dir="ltr" class="FM_Figure">&nbsp;</p>
  <p dir="ltr" class="FM_Indented">Several status messages will appear<span style="font-size: x-small;">&nbsp;</span>—<span style="font-size: x-small;">&nbsp;</span>if the connection succeeds, all the mes&#173;sages indicate &quot;ok&quot;.</p>
  <p dir="ltr" class="FM_Numbered"><span class="FM_Number">8.<span style="padding-left: 10pt;" class="FMAutoNumber_1"></span></span><a name="XREF_81883_8_Test_the_data"></a>Test the data connection:</p>
  <p dir="ltr" class="FM_Numbered2"><span class="FM_Number">a.<span style="padding-left: 10pt;" class="FMAutoNumber_1"></span></span>When the command prompt reappears, verify that the connection is working<span style="font-size: x-small;">&nbsp;</span>—<span style="font-size: x-small;">&nbsp;</span>’ping’ a URL that you know is working (e.g. mangoh.io, google.com, etc.).</p>
  <p dir="ltr" class="FM_Indented2_CodeFragment"><span class="FM_Code_Background_Color"># ping mangoh.io</span><span style="font-size: x-small;">&nbsp;</span></p>

  <div align="left"><img alt="ping_mangOH_new.png" style=" width:100%; margin-top:10pt; max-width:378.720pt;" id="image11" src="../../assets/ping_mangOH_new.png" />
  </div>
  <p dir="ltr" class="FM_Figure">&nbsp;</p>
  <p dir="ltr" class="FM_Indented2">When ping responses (e.g. &quot;64 bytes from 35.164...&quot;) appear, the connection is working. (Responses may take 10–15 seconds to being appearing.)</p>
  <p dir="ltr" class="FM_Numbered2"><span class="FM_Number">b.<span style="padding-left: 10pt;" class="FMAutoNumber_1"></span></span>Stop the ping command when responses begin to appear<span style="font-size: x-small;">&nbsp;</span>—<span style="font-size: x-small;">&nbsp;</span>Press Ctrl+C to return to the command prompt.</p>
  <p dir="ltr" class="FM_NoteIndented2Body"><span class="FM_Note">Note:<span style="font-size: small;">&nbsp;&nbsp;&nbsp;</span></span>If no responses appear within 30 &nbsp;seconds, press Ctrl+C, make sure the antenna is connected, and go back to <a href="#XREF_76708_2_Start_a_data"><span class="FM_blue_color">Step 4</span></a>&#160;and try again. If you still cannot get a response, power cycle the mangOH_Red and start the procedure again.</p>
  <p dir="ltr" class="FM_Numbered"><span class="FM_Number">9.<span style="padding-left: 10pt;" class="FMAutoNumber_1"></span></span>Now that you know how to start a data connection, you will be able to transmit data to the IoT cloud. (In the next section, you will set up your free account on the Sierra Wireless AirVantage IoT Acceleration Platform.)</p>
  <p dir="ltr" class="FM_Indented">For now, enter the disconnect command to close the data connection while you set up your AirVantage account:</p>
  <p dir="ltr" class="FM_Indented_CodeFragment"><span class="FM_Code_Background_Color"># cm data connect -1</span><span style="font-size: x-small;">&nbsp;</span></p>

  <div align="left"><img alt="cm_data_connect_off.png" style=" width:100%; margin-top:10pt; max-width:379.500pt;" id="image12" src="../../assets/cm_data_connect_off.png" />
  </div>
  <p dir="ltr" class="FM_Figure">&nbsp;</p>
  <p dir="ltr" class="FM_Body">Now that you know how to start (open) and stop (close) a data connection, you are ready to <a href="../41110479-80-81-82_AirVan/41110479-80-81-82_AirVan.htm#XREF_84678_Hello_World"><span class="FM_blue_color">Connect to the IoT Cloud</span></a> and begin sending data to the ’cloud’.</p>
 </div>
</body>

</html>

